{"version":3,"sources":["Components/formslist/FormListItem.js","Components/formslist/ScrollToTopFab.js","GraphQL/Client.js","GraphQL/Querries.js","Components/styledcomponents/StyledButton.js","Components/utils/SearchInput.js","Components/formslist/FormsListHeader.js","Components/utils/SnackBar.js","Components/utils/Loading.js","Pages/EmptyForms/FormsList.js","Components/utils/utils.js","Components/form/FormBodyItem.js","GraphQL/Mutations.js","Components/form/FormBody.js","Pages/EmptyForms/FormPage.js","Components/reportslist/RecordsItem.js","Components/reportslist/RecordsHeader.js","Components/reportslist/CsvButton.js","Components/reportslist/FIlterModal.js","Components/reportslist/RecordsListFooter.js","Pages/Reports/FormRecordsList.js","Components/reportslist/ReportsItem.js","Components/reportslist/ReportsListHeader.js","Pages/Reports/ReportsList.js","Components/styledcomponents/LoginButton.js","Components/styledcomponents/LogoutButton.js","Pages/MainPage/ProfileCard.js","Pages/MainPage/MainPage.js","Components/navbar/NavBar.js","Auth/AuthUtils.js","Pages/ErrorPages/NotFound.js","Pages/ErrorPages/ServerError.js","App.js","Auth/AuthProviderWrapper.js","index.js"],"names":["FormListItem","props","className","to","form","_id","substring","title","ScrollFab","showAt","speed","easing","httpLink","createHttpLink","uri","process","defaultOptions","watchQuery","fetchPolicy","errorPolicy","query","authLink","setContext","_","headers","token","localStorage","getItem","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","dataIdFromObject","o","__typename","getForms","gql","getFormById","getFilledFormById","getFilledForms","getFilledFormsWithFields","getRoleByUserName","getAllAreas","BlueLoginButton","withStyles","root","backgroundColor","color","boxShadow","label","fontSize","Button","BlueSearchButton","LightSearchButton","SearchInput","useState","keyWord","setKeyWord","onSearch","variant","text","React","anchorEl","setAnchorEl","handleClick","event","currentTarget","open","Boolean","id","undefined","onClick","Popover","onClose","anchorOrigin","vertical","horizontal","transformOrigin","type","dir","placeholder","defaultValue","onChange","newValue","target","value","toLowerCase","FormsListHeader","Alert","elevation","useStyles","makeStyles","theme","width","marginTop","spacing","openSuccessSnack","console","error","openErrorSnack","SnackBar","classes","openError","setOpenError","openSuccess","setOpenSuccess","setText","successText","errText","handleClose","reason","Snackbar","autoHideDuration","severity","backdrop","zIndex","drawer","LoadingBackdrop","Backdrop","CircularProgress","FormsList","forms","setForms","history","useHistory","useQuery","loading","data","push","useEffect","getAllEmptyForms","filter","includes","map","Loading","getValueByType","JSON","parse","year","month","day","location","lat","parseFloat","lng","toFixed","length","SelectComponent","disabled","checkforError","Select","disableUnderline","updateValue","index","field","required","displayEmpty","options","option","MenuItem","TextComponent","name","onFocus","NumberComponent","DateComponent","locale","calendarPopperPosition","colorPrimary","shouldHighlightWeekends","inputPlaceholder","inputClassName","MapModalComponent","isOpen","setIsOpen","Modal","style","display","alignItems","justifyContent","google","initiLocation","mapOnClick","GoogleMapComponent","zoom","containerStyle","height","initialCenter","key","position","FormBodyItem","isFilled","for","createFilledForm","GoogleApiWrapper","apiKey","fields","values","setValues","errors","setErrors","useMutation","createForm","setInitiLocation","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","err","log","t","coord","latLng","obj","e","v","errObj","isOk","forEach","dataList","Object","keys","stringify","variables","filledForm","FormPage","pathname","formId","useParams","setForm","ReportsItem","isPortrait","useMediaQuery","maxAspectRatio","recordId","class","state","filledFields","RecordsHeader","CsvButton","filename","minWidth","borderRadius","borderColor","borderStyle","borderWidth","bullet","margin","transform","pos","marginBottom","FilterModal","areas","setAreas","selectAreas","setSelectAreas","selectedArea","setSelectedArea","selectedLocation","setSelectedLocation","locationsList","area","Card","CardContent","setNewFilter","find","resetFilter","CardActions","ReportsFooter","records","sums","i","sumObj","sum","j","getCsvData","csvHeaders","csvRows","FormsRecordsList","finishedGetting","setFinishedGetting","setFilter","setFormsWithId","getAllFilledForms","item","csvData","filters","valueObj","pt","turf","poly","geoLocation","geometry","coordinates","RecordsItem","filled","ReportsListHeader","ReportsList","reports","setReports","makeTableData","groupedForms","reduce","rv","x","LoginButton","LogoutButton","logout","returnTo","window","origin","ProfileCard","user","picture","email","src","alt","Divider","MainPage","useAuth0","isLoading","loginWithRedirect","isAuthenticated","useColBarStyles","maxHeight","flex","flexDirection","useRowBarStyles","useActionStyles","selected","getHomeButton","BottomNavigationAction","icon","getEmptyFormsButton","getControlFormsButton","goToPage","getDefaultPage","NavBar","role","useLocation","pageNav","setPageNav","actionClasses","barRowClasses","barColClasses","BottomNavigation","showLabels","getTokenAndSetRole","getToken","setRole","audience","then","res","catch","NotFoundPage","ServerErrorPage","App","getAccessTokenSilently","username","setItem","exact","path","component","AuthWrapper","children","domain","clientId","redirectUri","onRedirectCallback","appState","cacheLocation","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.172bd483.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./FormListItem.css\";\nexport default function FormListItem(props) {\n  return (\n    <Link\n      className=\"d-flex list-item-container list-item-color\"\n      to={\"/fill-forms/\" + props.form._id}\n    >\n      <div>{props.form._id.substring(0, 5)}</div>\n      <div>{props.form.title}</div>\n    </Link>\n  );\n}\n","import React from \"react\";\nimport { BsArrowUp } from \"react-icons/bs\";\nimport BackToTop from \"react-back-to-top-button\";\nconst ScrollFab = () => {\n  return (\n    <BackToTop showAt={100} speed={1} easing=\"easeOutSine\">\n      <BsArrowUp className=\"arrow-up scroll\" />\n    </BackToTop>\n  );\n};\n\nexport default ScrollFab;\n","import { ApolloClient } from \"apollo-client\";\nimport { createHttpLink } from \"apollo-link-http\";\nimport { setContext } from \"apollo-link-context\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\n\nconst httpLink = createHttpLink({\n  uri: process.env.REACT_APP_API_URL + \"/graphql\",\n});\n\nconst defaultOptions = {\n  watchQuery: {\n    fetchPolicy: \"no-cache\",\n    errorPolicy: \"ignore\",\n  },\n  query: {\n    fetchPolicy: \"no-cache\",\n    errorPolicy: \"all\",\n  },\n};\n\nlet authLink = setContext((_, { headers }) => {\n  const token = localStorage.getItem(\"token\");\n\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : \"\",\n    },\n  };\n});\n\nexport let client = new ApolloClient({\n  //   uri: \"https://graphql.anilist.co\",\n\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache({\n    dataIdFromObject: (o) => (o._id ? `${o.__typename}:${o._id}` : null),\n  }),\n  defaultOptions: defaultOptions,\n});\n\nexport const setToken = (token) => {\n  authLink = setContext((_, { headers }) => {\n    console.log(token);\n    return {\n      headers: {\n        ...headers,\n        authorization: token ? `Bearer ${token}` : \"\",\n      },\n    };\n  });\n  client = new ApolloClient({\n    //   uri: \"https://graphql.anilist.co\",\n\n    link: authLink.concat(httpLink),\n    cache: new InMemoryCache({\n      dataIdFromObject: (o) => (o._id ? `${o.__typename}:${o._id}` : null),\n    }),\n    defaultOptions: defaultOptions,\n  });\n};\n","import { gql } from \"apollo-boost\";\n\nexport const getForms = gql`\n  {\n    getAllEmptyForms {\n      title\n      _id\n      fields {\n        name\n        title\n        type\n        required\n        options {\n          _id\n          label\n          value\n        }\n      }\n    }\n  }\n`;\n\nexport const getFormById = gql`\n  query Form($id: String!) {\n    getFormById(id: $id) {\n      _id\n      title\n      fields {\n        name\n        title\n        type\n        required\n        options {\n          label\n          value\n        }\n      }\n    }\n  }\n`;\n\nexport const getFilledFormById = gql`\n  query Form($id: String!) {\n    getFilledFormById(id: $id) {\n      _id\n      title\n      fields {\n        name\n        title\n        type\n        value\n      }\n    }\n  }\n`;\nexport const getFilledForms = gql`\n  query {\n    getAllFilledForms {\n      _id\n      title\n      formId\n    }\n  }\n`;\nexport const getFilledFormsWithFields = gql`\n  query {\n    getAllFilledForms {\n      _id\n      title\n      formId\n      fields {\n        name\n        title\n        type\n        value\n      }\n    }\n  }\n`;\nexport const getRoleByUserName = gql`\n  query Role($username: String!) {\n    getRoleByUserName(userName: $username) {\n      _id\n      userName\n      role\n    }\n  }\n`;\nexport const getAllAreas = gql`\n  {\n    getAllAreas {\n      _id\n      title\n      geoLocation {\n        type\n        properties {\n          name\n        }\n        geometry {\n          coordinates\n        }\n      }\n    }\n  }\n`;\n","import Button from \"@material-ui/core/Button\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nexport const BlueLoginButton = withStyles({\n  root: {\n    backgroundColor: \"#004654\",\n    color: \"white\",\n    boxShadow: \"0 3px 5px 2px rgba(255, 255, 255, .1)\",\n  },\n  label: { fontSize: \"25px\" },\n})(Button);\n\nexport const BlueSearchButton = withStyles({\n  root: {\n    backgroundColor: \"#004654\",\n    color: \"white\",\n    boxShadow: \"0 3px 5px 2px rgba(255, 255, 255, .1)\",\n  },\n  label: { fontSize: \"10px\" },\n})(Button);\n\nexport const LightSearchButton = withStyles({\n  root: {\n    backgroundColor: \"white\",\n    color: \"#808080\",\n    boxShadow: \"0 3px 5px 2px rgba(255, 255, 255, .1)\",\n  },\n  label: { fontSize: \"10px\" },\n})(Button);\n","import React, { useState, useEffect } from \"react\";\nimport Popover from \"@material-ui/core/Popover\";\nimport { MdSearch } from \"react-icons/md\";\nimport \"./utils.css\";\nimport {\n  BlueSearchButton,\n  LightSearchButton,\n} from \"../styledcomponents/StyledButton\";\n\nconst SearchInput = (props) => {\n  const [keyWord, setKeyWord] = useState(\"\");\n  const { onSearch, variant = \"main\", text = \"جست و جو\" } = props;\n  const setQuery = (event) => {\n    const newValue = event.target.value.toLowerCase();\n    onSearch(newValue);\n    setKeyWord(newValue);\n  };\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div className=\"search-container d-flex flex-column justify-content-center align-items-center\">\n      {variant === \"main\" && (\n        <BlueSearchButton onClick={handleClick}>\n          <MdSearch className=\"search-icon\" />\n          <div className=\"search-text\">{text}</div>\n        </BlueSearchButton>\n      )}\n      {variant === \"light\" && (\n        <LightSearchButton onClick={handleClick}>\n          <MdSearch className=\"search-icon\" />\n          <div className=\"search-text\">{text}</div>\n        </LightSearchButton>\n      )}\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <input\n          type=\"text\"\n          dir=\"rtl\"\n          placeholder=\"جست و جو\"\n          defaultValue={keyWord !== \"\" ? keyWord : null}\n          className={\"form-control\"}\n          onChange={setQuery}\n        />\n      </Popover>\n    </div>\n  );\n};\n\nexport default SearchInput;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport SearchInput from \"../utils/SearchInput\";\nimport \"./FormListItem.css\";\nexport default function FormsListHeader(props) {\n  return (\n    <div className=\"d-flex  list-item-container list-header-sticky list-header-color\">\n      <div>شماره‌ی‌ فرم</div>\n\n      <div className=\"d-flex list-row-item\">\n        <SearchInput onSearch={props.onSearch} text=\"نام فرم\" />\n        {/* <div className=\"d-flex\">نام فرم</div> */}\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst Alert = (props) => {\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\nexport let openSuccessSnack = () => {\n  console.error(\"openSuccessSnack isn't set yet!\");\n};\n\nexport let openErrorSnack = () => {\n  console.error(\"openErrorSnack isn't set yet!\");\n};\n\nexport const SnackBar = (props) => {\n  const classes = useStyles();\n  const [openError, setOpenError] = React.useState(false);\n  const [openSuccess, setOpenSuccess] = React.useState(false);\n  const [text, setText] = React.useState(\"\");\n  const handleSuccess = (successText = \" موفّقیّت آمیز بود\") => {\n    setText(successText);\n    setOpenSuccess(true);\n  };\n  const handleError = (errText = \"!اوه اوه اتَّفاق بدی افتاد\") => {\n    setText(errText);\n    setOpenError(true);\n  };\n  openSuccessSnack = handleSuccess;\n  openErrorSnack = handleError;\n\n  const handleClose = (event, reason) => {\n    if (reason === \"clickaway\") {\n      return;\n    }\n    setOpenSuccess(false);\n    setOpenError(false);\n  };\n  const vertical = \"bottom\",\n    horizontal = \"left\";\n\n  return (\n    <div className={classes.root}>\n      <Snackbar\n        anchorOrigin={{ vertical, horizontal }}\n        open={openSuccess}\n        autoHideDuration={2000}\n        onClose={handleClose}\n      >\n        <Alert onClose={handleClose} severity=\"success\">\n          {text}\n        </Alert>\n      </Snackbar>\n      <Snackbar\n        anchorOrigin={{ vertical, horizontal }}\n        open={openError}\n        autoHideDuration={10000}\n        onClose={handleClose}\n      >\n        <Alert onClose={handleClose} severity=\"error\">\n          {text}\n        </Alert>\n      </Snackbar>\n    </div>\n  );\n};\n","import React from \"react\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Button from \"@material-ui/core/Button\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: theme.zIndex.drawer + 1,\n    color: \"#004654\",\n  },\n}));\nconst LoadingBackdrop = (props) => {\n  const classes = useStyles();\n\n  return (\n    <div>\n      <Backdrop className={classes.backdrop} open={props.open}>\n        <CircularProgress color=\"white\" />\n      </Backdrop>\n    </div>\n  );\n};\nexport default LoadingBackdrop;\n","import React, { useState, useEffect } from \"react\";\nimport FormListItem from \"../../Components/formslist/FormListItem\";\nimport ScrollFab from \"../../Components/formslist/ScrollToTopFab\";\nimport \"./FormList.css\";\nimport { client } from \"../../GraphQL/Client\";\nimport { getForms } from \"../../GraphQL/Querries\";\nimport { useHistory } from \"react-router\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport FormsListHeader from \"../../Components/formslist/FormsListHeader\";\nimport { openErrorSnack } from \"../../Components/utils/SnackBar\";\nimport LoadingBackdrop from \"../../Components/utils/Loading\";\n\nfunction FormsList() {\n  const [forms, setForms] = useState([]);\n  const [keyWord, setKeyWord] = useState(\"\");\n  const history = useHistory();\n  const { loading, error, data } = useQuery(getForms, { client });\n  if (error) {\n    openErrorSnack(\"در گرفتن اطّلاعات فرم مشکلی رخ داد\");\n    history.push(\"/\");\n  }\n\n  useEffect(() => {\n    if (data) {\n      setForms(data.getAllEmptyForms);\n    }\n  }, [data]);\n  return (\n    <div className=\"fillformlist d-flex flex-column justify-content-center align-items-center\">\n      <FormsListHeader onSearch={setKeyWord} />\n      {forms\n        .filter((form) => form.title.toLowerCase().includes(keyWord))\n        .map((form) => {\n          return <FormListItem form={form} />;\n        })}\n      <ScrollFab />\n      <LoadingBackdrop open={loading} />\n    </div>\n  );\n}\n\nexport default FormsList;\n","export const getValueByType = (value, type) => {\n  if (!value || value === \"\" || value === '\"\"') return \"---\";\n  switch (type.toLowerCase()) {\n    case \"date\":\n      value = JSON.parse(value);\n      return value.year + \"/\" + value.month + \"/\" + value.day;\n\n    case \"location\":\n      const location = JSON.parse(value);\n      const lat = parseFloat(location.lat);\n      const lng = parseFloat(location.lng);\n      return \"(\" + lat.toFixed(4) + \", \" + lng.toFixed(4) + \")\";\n    default:\n      return value.substring(1, value.length - 1);\n  }\n};\n","import React, { useState } from \"react\";\nimport { Map, Marker } from \"google-maps-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { getValueByType } from \"../utils/utils\";\nimport \"react-modern-calendar-datepicker/lib/DatePicker.css\";\nimport DatePicker from \"react-modern-calendar-datepicker\";\nimport \"./FormBody.css\";\n\nconst SelectComponent = (props) => {\n  return props.disabled ? (\n    <TextComponent {...props} checkforError={() => {}} />\n  ) : (\n    <Select\n      disableUnderline\n      onChange={props.updateValue(props.index, props.field.required)}\n      displayEmpty\n      className={\"form-control input \" + (props.error ? \"is-invalid\" : \"\")}\n      value={props.disabled ? props.field.value : props.value}\n      disabled={props.disabled}\n    >\n      {props.field.options.map((option) => (\n        <MenuItem value={option.value}>{option.label}</MenuItem>\n      ))}\n    </Select>\n  );\n};\n\nconst TextComponent = (props) => {\n  const { value, required, index, type } = props.field;\n  return (\n    <input\n      type=\"text\"\n      dir=\"rtl\"\n      className={\"form-control input \" + (props.error ? \"is-invalid\" : \"\")}\n      id={props.field.name}\n      onChange={props.updateValue(props.index, required)}\n      onFocus={props.checkforError(props.index, required)}\n      value={props.disabled ? getValueByType(value, type) : props.value}\n      disabled={props.disabled}\n    />\n  );\n};\nconst NumberComponent = (props) => {\n  return props.disabled ? (\n    <TextComponent {...props} checkforError={() => {}} />\n  ) : (\n    <input\n      type=\"number\"\n      dir=\"rtl\"\n      className={\"form-control input \" + (props.error ? \"is-invalid\" : \"\")}\n      id={props.field.name}\n      onChange={props.updateValue(props.index, props.field.required)}\n      onFocus={props.checkforError(props.index, props.field.required)}\n      value={props.disabled ? props.field.value : null}\n      disabled={props.disabled}\n    />\n  );\n};\nconst DateComponent = (props) => {\n  return props.disabled ? (\n    <TextComponent {...props} checkforError={() => {}} />\n  ) : (\n    <DatePicker\n      locale=\"fa\"\n      calendarPopperPosition=\"bottom\"\n      colorPrimary=\"#004654\"\n      value={props.value}\n      shouldHighlightWeekends\n      inputPlaceholder=\"روی تقویم انتخاب کنید\"\n      inputClassName={\"form-control input \" + (props.error ? \"is-invalid\" : \"\")}\n      onChange={props.updateValue(props.index, props.field.required)}\n    />\n  );\n};\n\nconst MapModalComponent = (props) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const handleOpen = () => {\n    setIsOpen(true);\n  };\n  const handleClose = () => {\n    setIsOpen(false);\n  };\n  return (\n    <div>\n      {!isOpen && (\n        <button\n          onClick={handleOpen}\n          className={\n            \"input map-button form-control \" + (props.error ? \"is-invalid\" : \"\")\n          }\n        >\n          {props.disabled\n            ? \"مشاهده روی نقشه\"\n            : props.value\n            ? \"تغییر انتخاب\"\n            : \"روی نقشه انتخاب کنید\"}\n        </button>\n      )}\n      <Modal\n        open={isOpen}\n        onClose={handleClose}\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <GoogleMapComponent\n          google={props.google}\n          index={props.index}\n          initiLocation={props.initiLocation}\n          value={props.value}\n          mapOnClick={props.mapOnClick}\n        />\n      </Modal>\n    </div>\n  );\n};\nconst GoogleMapComponent = (props) => {\n  return (\n    <Map\n      google={props.google}\n      zoom={15}\n      containerStyle={{\n        width: \"80%\",\n        height: \"60%\",\n      }}\n      initialCenter={props.value ? props.value : props.initiLocation}\n      key={props.index}\n      onClick={props.mapOnClick(props.index)}\n      className=\"map\"\n    >\n      {props.value && <Marker key={props.index} position={props.value} />}\n    </Map>\n  );\n};\n\nfunction FormBodyItem(props) {\n  const {\n    value,\n    error,\n    index,\n    field,\n    updateValue,\n    checkforError,\n    mapOnClick,\n    google,\n    isFilled,\n  } = props;\n  const getInputOfType = () => {\n    if (field.options && field.options.length > 0)\n      return (\n        <SelectComponent\n          index={index}\n          error={error}\n          field={field}\n          value={value}\n          disabled={isFilled}\n          updateValue={updateValue}\n        />\n      );\n    else if (field.type.toLowerCase() === \"text\")\n      return (\n        <TextComponent\n          index={index}\n          error={error}\n          field={field}\n          value={value}\n          updateValue={updateValue}\n          disabled={isFilled}\n          checkforError={checkforError}\n        />\n      );\n    else if (field.type.toLowerCase() === \"number\")\n      return (\n        <NumberComponent\n          index={index}\n          error={error}\n          field={field}\n          updateValue={updateValue}\n          disabled={isFilled}\n          checkforError={checkforError}\n        />\n      );\n    else if (field.type.toLowerCase() === \"date\")\n      return (\n        <DateComponent\n          index={index}\n          error={error}\n          field={field}\n          updateValue={updateValue}\n          disabled={isFilled}\n          value={value}\n        />\n      );\n    else if (field.type.toLowerCase() === \"location\")\n      return (\n        <MapModalComponent\n          index={index}\n          error={error}\n          field={field}\n          updateValue={updateValue}\n          value={isFilled ? JSON.parse(field.value) : value}\n          mapOnClick={mapOnClick}\n          disabled={isFilled}\n          google={google}\n        />\n      );\n  };\n\n  return (\n    <div>\n      <div>\n        <div className=\"d-flex flex-column \">\n          <label for={field.name}>:{field.title}</label>\n          {getInputOfType(field, index)}\n        </div>\n      </div>\n      <div className=\"error-message\">\n        {error ? \"لطفاً مقدار بالا را پر کنید\" : \"\"}\n      </div>\n    </div>\n  );\n}\n\nexport default FormBodyItem;\n","import { gql } from \"apollo-boost\";\n\nexport const createFilledForm = gql`\n  mutation($filledForm: FilledFormInput) {\n    createFilledForm(filledForm: $filledForm) {\n      _id\n    }\n  }\n`;\n","import React, { useState, useEffect } from \"react\";\nimport { GoogleApiWrapper } from \"google-maps-react\";\nimport FormBodyItem from \"./FormBodyItem\";\nimport { useHistory } from \"react-router\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { createFilledForm } from \"../../GraphQL/Mutations\";\nimport { client } from \"../../GraphQL/Client\";\nimport { openSuccessSnack, openErrorSnack, SnackBar } from \"../utils/SnackBar\";\nimport \"react-modern-calendar-datepicker/lib/DatePicker.css\";\nimport \"./FormBody.css\";\nimport Axios from \"axios\";\n\nfunction FormBody(props) {\n  const history = useHistory();\n  const fields = props.form.fields ? props.form.fields : [];\n  const [values, setValues] = useState({});\n  const [errors, setErrors] = useState({});\n  const [createForm, { data }] = useMutation(createFilledForm, { client });\n  const [initiLocation, setInitiLocation] = useState({\n    lat: 35.80209937653889,\n    lng: 51.3935485060881,\n  });\n  useEffect(() => {\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        setInitiLocation({\n          lat: position.coords.latitude,\n          lng: position.coords.longitude,\n        });\n      },\n      (err) => console.log(err)\n    );\n  }, []);\n\n  const mapOnClick = (index, required) => {\n    return (t, map, coord) => {\n      if (props.isFilled) return;\n      const lat = coord.latLng.lat();\n      const lng = coord.latLng.lng();\n      let obj = { ...values };\n      obj[index] = { lat, lng };\n      setValues(obj);\n    };\n  };\n  const updateValue = (index, required) => {\n    return (e) => {\n      checkforError(index, required)(e);\n      const v = e.target ? e.target.value : e;\n\n      let obj = { ...values };\n      obj[index] = v;\n      setValues(obj);\n    };\n  };\n  const checkforError = (index, required) => {\n    return (e) => {\n      const v = e.target ? e.target.value : e;\n      let errObj = { ...errors };\n      errObj[index] = required && (!v || v === \"\");\n      setErrors(errObj);\n      return errObj[index];\n    };\n  };\n  const handleSubmit = () => {\n    let isOk = true;\n    let errObj = { ...errors };\n    fields.forEach((key, index) => {\n      errObj[index] =\n        fields[index].required && (!values[index] || values[index] === \"\");\n      if (!values[index]) values[index] = \"\";\n      isOk = isOk ? !errObj[index] : isOk;\n    });\n    setErrors(errObj);\n    if (isOk) {\n      const dataList = Object.keys(values).map((key, index) => {\n        return {\n          name: fields[key].name,\n          title: fields[key].title,\n          type: fields[key].type,\n          value: JSON.stringify(values[key] ? values[key] : \"\"),\n        };\n      });\n      const data = {};\n      data[\"title\"] = props.form.title;\n      data[\"formId\"] = props.form._id;\n      data[\"fields\"] = dataList;\n      try {\n        createForm({ variables: { filledForm: data } });\n        openSuccessSnack(\"فرم با موفّقیّت ثبت شد\");\n      } catch (error) {\n        openErrorSnack();\n      }\n      history.push(\"/\");\n    }\n  };\n  return (\n    <div className=\"d-flex flex-column  p-5 m-3 form-container\">\n      {fields.map((field, index) => {\n        return (\n          <FormBodyItem\n            index={index}\n            value={values[index]}\n            error={errors[index]}\n            field={field}\n            updateValue={updateValue}\n            checkforError={checkforError}\n            mapOnClick={mapOnClick}\n            initiLocation={initiLocation}\n            google={props.google}\n            isFilled={props.isFilled}\n          />\n        );\n      })}\n\n      {!props.isFilled && (\n        <div className=\"d-flex justify-content-center\">\n          <button className=\"submit-button\" onClick={handleSubmit}>\n            ثبت\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default GoogleApiWrapper({\n  apiKey: \"AIzaSyDjs0u02-62FMwrtxMxci5pc6PIubSyW28\",\n})(FormBody);\n","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport FormBody from \"../../Components/form/FormBody\";\nimport \"./FormPage.css\";\nimport \"./FormList.css\";\nimport { client } from \"../../GraphQL/Client\";\nimport LoadingBackdrop from \"../../Components/utils/Loading\";\nimport { getFormById, getFilledFormById } from \"../../GraphQL/Querries\";\nimport { useHistory } from \"react-router\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { openErrorSnack } from \"../../Components/utils/SnackBar\";\n\nexport default function FormPage(props) {\n  let isFilled = false;\n  const history = useHistory();\n  if (props.location.pathname.includes(\"/reports/details/\")) {\n    isFilled = true;\n  }\n\n  const { formId } = useParams();\n  const [form, setForm] = useState([]);\n\n  const { loading, error, data } = useQuery(\n    isFilled ? getFilledFormById : getFormById,\n    {\n      client,\n      variables: { id: formId },\n    }\n  );\n  if (error) {\n    openErrorSnack(\"در گرفتن اطّلاعات فرم مشکلی رخ داد\");\n    history.push(\"/\");\n  }\n  useEffect(() => {\n    data && setForm(isFilled ? data.getFilledFormById : data.getFormById);\n  }, [loading, data]);\n\n  return (\n    <div className=\"d-flex flex-column justify-content-center align-items-center form-card-container\">\n      <div className=\"d-flex flex-column m-3 p-3 justify-content-center align-items-center form-card-back\">\n        <div style={{ width: \"100%\" }}>\n          <FormBody isFilled={isFilled} form={form} />\n        </div>\n      </div>\n      <LoadingBackdrop open={loading} />\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport FormListItem from \"../formslist/FormListItem\";\nimport ScrollFab from \"../formslist/ScrollToTopFab\";\nimport \"./ReportsListItem.css\";\nimport { useHistory } from \"react-router\";\nimport { getValueByType } from \"../utils/utils\";\nimport { Link } from \"react-router-dom\";\nimport { client } from \"../../GraphQL/Client\";\nimport { getForms } from \"../../GraphQL/Querries\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { useMediaQuery } from \"react-responsive\";\nconst ReportsItem = (props) => {\n  const isPortrait = useMediaQuery({ maxAspectRatio: \"4/3\" });\n\n  const history = useHistory();\n  const { fields, index, recordId } = props;\n  return (\n    <tr\n      class=\"list-group-item-info\"\n      onClick={() =>\n        history.push({\n          pathname: \"/reports/details/\" + recordId,\n          state: { filledFields: fields, isFilled: true },\n        })\n      }\n    >\n      {isPortrait && (\n        <td class=\"countryCardHeader\">\n          <div class=\"d-flex flex-row justify-content-center\">\n            <div>{index + 1}</div>\n          </div>\n        </td>\n      )}\n      {fields.map((field) => {\n        return (\n          <td>\n            <div class=\"cardInfo\">\n              <div>{getValueByType(field.value, field.type.toLowerCase())}</div>\n              <div class=\"propLabel\">{field.title}</div>\n            </div>\n          </td>\n        );\n      })}\n\n      {/* {!isPortrait && (\n        <td class=\"countryCardHeader\">\n          <div class=\"d-flex flex-row justify-content-center\">\n            <div>{form.title}</div>\n          </div>\n        </td>\n      )} */}\n    </tr>\n  );\n};\n\nexport default ReportsItem;\n","import React, { useState, useEffect } from \"react\";\nimport SearchInput from \"../utils/SearchInput\";\nimport \"./ReportsListItem.css\";\nconst RecordsHeader = (props) => {\n  const { data } = props;\n  return (\n    <thead>\n      <tr>\n        {data.map((field) => (\n          <th class=\"headcolstick\">{field.title}</th>\n        ))}\n      </tr>\n    </thead>\n  );\n};\nexport default RecordsHeader;\n","import React from \"react\";\nimport { FaFileCsv } from \"react-icons/fa\";\nimport { CSVLink } from \"react-csv\";\nimport \"./CsvButton.css\";\nconst CsvButton = (props) => {\n  return (\n    <div>\n      <CSVLink data={props.data} filename={props.filename + \".csv\"}>\n        <FaFileCsv className=\"csv-icon csv\" />\n      </CSVLink>\n    </div>\n  );\n};\n\nexport default CsvButton;\n","import React, { useState, useEffect } from \"react\";\nimport { Map, Marker } from \"google-maps-react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Select from \"@material-ui/core/Select\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { getValueByType } from \"../utils/utils\";\nimport \"react-modern-calendar-datepicker/lib/DatePicker.css\";\nimport DatePicker from \"react-modern-calendar-datepicker\";\nimport { FaFilter } from \"react-icons/fa\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport { openErrorSnack } from \"../utils/SnackBar\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Button from \"@material-ui/core/Button\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { BlueSearchButton } from \"../styledcomponents/StyledButton\";\nimport { client } from \"../../GraphQL/Client\";\nimport { getAllAreas } from \"../../GraphQL/Querries\";\nimport LoadingBackdrop from \"../../Components/utils/Loading\";\nimport Typography from \"@material-ui/core/Typography\";\nimport \"./Filter.css\";\nimport { from } from \"apollo-boost\";\nimport { useHistory } from \"react-router-dom\";\nconst useStyles = makeStyles({\n  root: {\n    minWidth: \"50vh\",\n    borderRadius: 15,\n    borderColor: \"#004654\",\n    borderStyle: \"solid\",\n    borderWidth: \"5px\",\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\",\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n});\n\nconst FilterModal = (props) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const [areas, setAreas] = useState([]);\n  const history = useHistory();\n  const [selectAreas, setSelectAreas] = useState([\"هیجکدام\"]);\n  const [selectedArea, setSelectedArea] = useState(\"هیجکدام\");\n  const [selectedLocation, setSelectedLocation] = useState(\"هیجکدام\");\n  const { loading, error, data } = useQuery(getAllAreas, { client });\n  const { forms } = props;\n\n  const locationsList = forms[0].fields.filter(\n    (field) => field.type.toLowerCase() === \"location\"\n  );\n  if (error) {\n    openErrorSnack();\n\n    history.push(\"/\");\n  }\n  useEffect(() => {\n    if (data) {\n      setAreas(data.getAllAreas);\n      setSelectAreas(() =>\n        data.getAllAreas.map((area) => area.title).concat([\"هیچکدام\"])\n      );\n    }\n  }, [data]);\n  const classes = useStyles();\n  const handleOpen = () => {\n    setIsOpen(true);\n  };\n\n  const handleClose = () => {\n    setIsOpen(false);\n  };\n\n  const selectArea = (e) => {\n    setSelectedArea(e.target.value);\n  };\n  const selectLocation = (e) => {\n    setSelectedLocation(e.target.value);\n  };\n\n  const submitFilter = () => {\n    handleClose();\n    props.setNewFilter({\n      location: selectedLocation,\n      area: areas.find((area) => area.title === selectedArea),\n    });\n  };\n\n  return (\n    <div>\n      <FaFilter className=\"filter-icon filterBtn\" onClick={handleOpen} />\n\n      <Modal\n        open={isOpen}\n        onClose={handleClose}\n        style={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <Card className={classes.root} variant=\"outlined\">\n          <CardContent>\n            <div className=\"d-flex flex-row justify-content-around align-items-center\">\n              <div className=\" filter-label\">مکان</div>\n              <div className=\"filter-label\">منطقه</div>\n            </div>\n            <div className=\"d-flex flex-row justify-content-around align-items-center\">\n              <Select\n                disableUnderline\n                onChange={selectArea}\n                displayEmpty\n                className={\"m-2 form-control input \"}\n                value={selectedArea}\n              >\n                {selectAreas.map((area) => (\n                  <MenuItem value={area}>\n                    <div>{area}</div>\n                  </MenuItem>\n                ))}\n              </Select>\n              <Select\n                disableUnderline\n                onChange={selectLocation}\n                displayEmpty\n                className={\"m-2 form-control input \"}\n                value={selectedLocation}\n              >\n                {locationsList.map((location) => (\n                  <MenuItem value={location.title}>\n                    <div>{location.title}</div>\n                  </MenuItem>\n                ))}\n              </Select>\n            </div>\n            <div className=\"d-flex mt-4 flex-row justify-content-around align-items-center\">\n              <BlueSearchButton onClick={submitFilter}> اعمال</BlueSearchButton>\n              <BlueSearchButton onClick={props.resetFilter}>\n                از نو\n              </BlueSearchButton>\n            </div>\n          </CardContent>\n          <CardActions></CardActions>\n        </Card>\n      </Modal>\n      <LoadingBackdrop open={loading} />\n    </div>\n  );\n};\nexport default FilterModal;\n","import React, { useState, useEffect } from \"react\";\nimport FormListItem from \"../formslist/FormListItem\";\nimport ScrollFab from \"../formslist/ScrollToTopFab\";\nimport \"./ReportsListItem.css\";\nimport { useHistory } from \"react-router\";\nimport { getValueByType } from \"../utils/utils\";\nimport { useMediaQuery } from \"react-responsive\";\nconst ReportsFooter = (props) => {\n  const isPortrait = useMediaQuery({ maxAspectRatio: \"4/3\" });\n\n  const history = useHistory();\n  const { records } = props;\n\n  const sums = [];\n  for (let i = 0; i < records[0].fields.length; i++) {\n    const sumObj = {\n      sum: 0,\n      title: records[0].fields[i].title,\n      type: records[0].fields[i].type,\n    };\n    if (records[0].fields[i].type.toLowerCase() === \"number\")\n      for (let j = 0; j < records.length; j++) {\n        sumObj.sum += parseFloat(\n          getValueByType(records[j].fields[i].value, \"number\")\n        );\n      }\n    sums.push(sumObj);\n  }\n  return (\n    <tr class=\"list-group-item-info\">\n      {isPortrait && (\n        <td class=\"countryCardHeader\">\n          <div class=\"d-flex flex-row justify-content-center\">\n            <div>مجموع</div>\n          </div>\n        </td>\n      )}\n      {sums.map((field) => {\n        return (\n          <td className=\"footerBg\">\n            <div class=\"footerCardInfo\">\n              <div>\n                {field.type.toLowerCase() === \"number\" ? field.sum : \"-\"}\n              </div>\n              <div class=\"propLabel\">{field.title}</div>\n            </div>\n          </td>\n        );\n      })}\n    </tr>\n  );\n};\n\nexport default ReportsFooter;\n","import React, { useState, useEffect } from \"react\";\nimport FormListItem from \"../../Components/formslist/FormListItem\";\nimport ScrollFab from \"../../Components/formslist/ScrollToTopFab\";\nimport \"./ReportsList.css\";\nimport { client } from \"../../GraphQL/Client\";\nimport { getForms } from \"../../GraphQL/Querries\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { useMediaQuery } from \"react-responsive\";\nimport { getFilledFormsWithFields } from \"../../GraphQL/Querries\";\nimport SearchInput from \"../../Components/utils/SearchInput\";\nimport { openErrorSnack } from \"../../Components/utils/SnackBar\";\nimport RecordsItem from \"../../Components/reportslist/RecordsItem\";\nimport RecordsHeader from \"../../Components/reportslist/RecordsHeader\";\nimport CsvButton from \"../../Components/reportslist/CsvButton\";\nimport FilterModal from \"../../Components/reportslist/FIlterModal\";\nimport * as turf from \"@turf/turf\";\nimport LoadingBackdrop from \"../../Components/utils/Loading\";\nimport ReportsFooter from \"../../Components/reportslist/RecordsListFooter\";\nconst FormsRecordsList = () => {\n  //   const [forms, setForms] = useState([]);\n  const { formId } = useParams();\n  const [forms, setForms] = useState([]);\n  const [finishedGetting, setFinishedGetting] = useState(false);\n  const [filter, setFilter] = useState({});\n  const history = useHistory();\n  const { loading, error, data } = useQuery(getFilledFormsWithFields, {\n    client,\n  });\n  if (error) {\n    openErrorSnack(\"در گرفتن اطّلاعات فرم مشکلی رخ داد\");\n    history.push(\"/\");\n  }\n  useEffect(() => data && setFormsWithId(), [data, loading]);\n\n  const setFormsWithId = () => {\n    setForms(\n      data.getAllFilledForms.filter((item) => item.formId === formId),\n      () => setFinishedGetting(true)\n    );\n  };\n\n  const setNewFilter = (filters) => {\n    setFilter(filters);\n  };\n  const unsetFilter = () => {\n    setFilter({});\n  };\n  const isPortrait = useMediaQuery({ maxAspectRatio: \"4/3\" });\n  const csvData = getCsvData(forms);\n  if (forms.length > 0)\n    return (\n      <div className=\"reportslist d-flex flex-column justify-content-center align-items-center\">\n        <FilterModal\n          forms={forms}\n          setNewFilter={setNewFilter}\n          resetFilter={unsetFilter}\n        />\n        <table>\n          {!isPortrait && <RecordsHeader data={forms[0].fields} />}\n          <tbody>\n            {forms\n              .filter((form) => {\n                if (filter.area && filter.location) {\n                  const obj = form.fields.filter((field) => {\n                    if (\n                      field.type.toLowerCase() !== \"location\" ||\n                      field.title !== filter.location\n                    )\n                      return false;\n                    const valueObj = JSON.parse(field.value);\n\n                    try {\n                      const pt = turf.point([\n                        parseFloat(valueObj.lng),\n                        parseFloat(valueObj.lat),\n                      ]);\n                      const poly = turf.polygon(\n                        filter.area.geoLocation.geometry.coordinates\n                      );\n                      return turf.booleanPointInPolygon(pt, poly);\n                    } catch (error) {\n                      return false;\n                    }\n                  });\n                  return obj.length > 0;\n                }\n                return true;\n              })\n              .map((form, index) => (\n                <RecordsItem\n                  fields={form.fields}\n                  index={index}\n                  recordId={form._id}\n                />\n              ))}\n            <ReportsFooter records={forms} />\n          </tbody>\n        </table>\n        <CsvButton\n          data={csvData}\n          filename={\"Form-\" + forms[0].formId + \"-Reports\"}\n        />\n        <ScrollFab />\n      </div>\n    );\n  else {\n    if ((!loading && finishedGetting) || !formId || formId === \"null\")\n      history.push(\"/404\");\n    return <LoadingBackdrop open={loading} />;\n  }\n};\n\nconst getCsvData = (data) => {\n  if (data.length === 0) return;\n  const csvHeaders = data[0].fields.map((field) => field.title);\n  const csvRows = data.map((form) => form.fields.map((field) => field.value));\n  return [csvHeaders].concat(csvRows);\n};\n\nexport default FormsRecordsList;\n","import React, { useState, useEffect } from \"react\";\nimport FormListItem from \"../formslist/FormListItem\";\nimport ScrollFab from \"../formslist/ScrollToTopFab\";\nimport \"./ReportsListItem.css\";\nimport { useHistory } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport { client } from \"../../GraphQL/Client\";\nimport { getForms } from \"../../GraphQL/Querries\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { useMediaQuery } from \"react-responsive\";\nconst ReportsItem = (props) => {\n  const isPortrait = useMediaQuery({ maxAspectRatio: \"4/3\" });\n\n  const history = useHistory();\n  const { form } = props;\n  return (\n    <tr\n      class=\"list-group-item-info\"\n      onClick={() => history.push(\"/reports/\" + form.formId)}\n    >\n      {isPortrait && (\n        <td class=\"countryCardHeader\">\n          <div class=\"d-flex flex-row justify-content-center\">\n            <div>{form.title}</div>\n          </div>\n        </td>\n      )}\n      <td>\n        <div class=\"cardInfo\">\n          <div>{form.formId.substring(0, 5)}</div>\n          <div class=\"propLabel\">نام فرم</div>\n        </div>\n      </td>\n      <td>\n        <div class=\"cardInfo\">\n          <div>{form.filled}</div>\n          <div class=\"propLabel\">تعداد گزارشات </div>\n        </div>\n      </td>\n\n      {!isPortrait && (\n        <td class=\"countryCardHeader\">\n          <div class=\"d-flex flex-row justify-content-center\">\n            <div>{form.title}</div>\n          </div>\n        </td>\n      )}\n    </tr>\n  );\n};\nexport default ReportsItem;\n","import React, { useState, useEffect } from \"react\";\nimport SearchInput from \"../utils/SearchInput\";\nimport \"./ReportsListItem.css\";\nconst ReportsListHeader = (props) => {\n  return (\n    <thead>\n      <tr>\n        <th class=\"headcolstick\">شماره‌ی فرم</th>\n        <th class=\"headcolstick\">تعداد گزارشات ثبت شده</th>\n        <th class=\"headcolstick\">\n          <SearchInput\n            onSearch={props.onSearch}\n            variant=\"light\"\n            text=\"نام فرم\"\n          />\n        </th>\n      </tr>\n    </thead>\n  );\n};\nexport default ReportsListHeader;\n","import React, { useState, useEffect } from \"react\";\nimport FormListItem from \"../../Components/formslist/FormListItem\";\nimport ScrollFab from \"../../Components/formslist/ScrollToTopFab\";\nimport \"./ReportsList.css\";\nimport { client } from \"../../GraphQL/Client\";\nimport { getFilledForms } from \"../../GraphQL/Querries\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { useMediaQuery } from \"react-responsive\";\nimport SearchInput from \"../../Components/utils/SearchInput\";\nimport ReportsItem from \"../../Components/reportslist/ReportsItem\";\nimport ReportsListHeader from \"../../Components/reportslist/ReportsListHeader\";\nimport LoadingBackdrop from \"../../Components/utils/Loading\";\nconst ReportsList = () => {\n  const { loading, error, data } = useQuery(getFilledForms, { client });\n  const [reports, setReports] = useState([]);\n  useEffect(() => data && makeTableData(), [loading, data]);\n  const makeTableData = () => {\n    const groupedForms = data.getAllFilledForms.reduce(function (rv, x) {\n      (rv[x[\"formId\"]] = rv[x[\"formId\"]] || []).push(x);\n      return rv;\n    }, {});\n    setReports(\n      Object.keys(groupedForms).map((key) => {\n        return {\n          formId: key,\n          title: groupedForms[key][0].title,\n          filled: groupedForms[key].length,\n        };\n      })\n    );\n  };\n\n  const isPortrait = useMediaQuery({ maxAspectRatio: \"4/3\" });\n\n  const [keyWord, setKeyWord] = useState(\"\");\n  return (\n    <div className=\"reportslist d-flex flex-column justify-content-center align-items-center\">\n      {isPortrait && <SearchInput onSearch={setKeyWord} />}\n      <table>\n        {!isPortrait && <ReportsListHeader onSearch={setKeyWord} />}\n        <tbody>\n          {reports\n            .filter(\n              (form) =>\n                form.title.toLowerCase().includes(keyWord) &&\n                form.formId !== \"null\"\n            )\n            .map((form) => (\n              <ReportsItem form={form} />\n            ))}\n        </tbody>\n      </table>\n      <ScrollFab />\n      <LoadingBackdrop open={loading} />\n    </div>\n  );\n};\nexport default ReportsList;\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { BlueLoginButton } from \"./StyledButton\";\nimport { from } from \"apollo-boost\";\nconst LoginButton = (props) => {\n  return (\n    <BlueLoginButton variant=\"contained\" onClick={props.onClick}>\n      ورود\n    </BlueLoginButton>\n  );\n};\nexport default LoginButton;\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nconst LogoutButton = (props) => {\n  return (\n    <Button\n      className=\" mt-4 \"\n      variant=\"contained\"\n      onClick={() =>\n        props.logout({\n          returnTo: window.location.origin,\n        })\n      }\n    >\n      خروج\n    </Button>\n  );\n};\nexport default LogoutButton;\n","import React from \"react\";\nimport \"./MainPage.css\";\nimport { StyledButton } from \"../../Components/styledcomponents/StyledButton\";\nimport LoginButton from \"../../Components/styledcomponents/LoginButton\";\nimport LogoutButton from \"../../Components/styledcomponents/LogoutButton\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\n\nimport { Link } from \"react-router-dom\";\nimport { Divider } from \"@material-ui/core\";\nexport default function ProfileCard(props) {\n  const { user } = props;\n  const { name, picture, email } = user;\n  return (\n    <div\n      style={{ width: \"100%\" }}\n      className=\"d-flex flex-column justify-content-center align-items-center\"\n    >\n      <img\n        src={picture}\n        alt=\"Profile\"\n        className=\" rounded-circle img-fluid profile-picture mb-3\"\n      />\n      <Divider style={{ width: \"100%\" }}></Divider>\n      <div className=\" mt-3 profile-text \">{name}</div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./MainPage.css\";\nimport { StyledButton } from \"../../Components/styledcomponents/StyledButton\";\nimport LoginButton from \"../../Components/styledcomponents/LoginButton\";\nimport LogoutButton from \"../../Components/styledcomponents/LogoutButton\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport ProfileCard from \"./ProfileCard\";\nimport { Link } from \"react-router-dom\";\nexport default function MainPage(props) {\n  const {\n    isLoading,\n    user,\n    loginWithRedirect,\n    isAuthenticated,\n    logout,\n  } = useAuth0();\n  return (\n    <div style={{ width: \"100%\", height: \"100%\" }}>\n      <div className=\"centerize main-card d-flex flex-column justify-content-center align-items-center \">\n        <div className=\"d-flex flex-column justify-content-center align-items-center \">\n          {!isAuthenticated ? (\n            <div\n              style={{ width: \"100%\" }}\n              className=\"d-flex flex-column justify-content-center align-items-center \"\n            >\n              <div className=\" mb-3 profile-text \">\n                برای استفاده از برنامه لطفاً وارد شوید\n              </div>\n              <LoginButton onClick={loginWithRedirect} />\n            </div>\n          ) : (\n            <div\n              style={{ width: \"100%\" }}\n              className=\"d-flex flex-column justify-content-center align-items-center \"\n            >\n              <ProfileCard user={user}></ProfileCard>\n              <LogoutButton logout={logout} />\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport LoginButton from \"../styledcomponents/LoginButton\";\nimport LogoutButton from \"../styledcomponents/LogoutButton\";\nimport { Link } from \"react-router-dom\";\nimport { useHistory } from \"react-router\";\nimport { useLocation } from \"react-router-dom\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport BottomNavigation from \"@material-ui/core/BottomNavigation\";\nimport BottomNavigationAction from \"@material-ui/core/BottomNavigationAction\";\nimport { MdHome, MdLocationOn } from \"react-icons/md\";\nimport { FaListAlt } from \"react-icons/fa\";\nimport { GoReport } from \"react-icons/go\";\nimport { useMediaQuery } from \"react-responsive\";\nimport \"./NavBar.css\";\nlet isPortrait;\nconst useColBarStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    maxHeight: \"30%\",\n    backgroundColor: \"rgba(22, 40, 65, 00)\",\n    flex: 1,\n    flexDirection: \"column\",\n  },\n});\nconst useRowBarStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    maxHeight: \"30%\",\n    backgroundColor: \"rgba(22, 40, 65, 00)\",\n    flex: 1,\n    flexDirection: \"row\",\n  },\n});\nconst useActionStyles = makeStyles({\n  root: {\n    color: \"gray\",\n    \"&$selected\": {\n      color: \"white\",\n    },\n  },\n  selected: {},\n});\nconst NavBar = (props) => {\n  const { isAuthenticated, role } = props;\n  isPortrait = useMediaQuery({ maxAspectRatio: \"4/3\" });\n  const history = useHistory();\n  let location = useLocation();\n  const [pageNav, setPageNav] = useState(0);\n  useEffect(() => {\n    setPageNav(getDefaultPage(location.pathname));\n  }, [location.pathname]);\n  const actionClasses = useActionStyles();\n  const barRowClasses = useRowBarStyles();\n  const barColClasses = useColBarStyles();\n  return (\n    <div className=\"d-flex header-nav\">\n      <BottomNavigation\n        value={pageNav}\n        onChange={(event, newValue) => {\n          setPageNav(newValue);\n          goToPage(newValue, history);\n        }}\n        showLabels\n        className={isPortrait ? barRowClasses.root : barColClasses.root}\n      >\n        {getHomeButton(actionClasses)}\n        {(role === \"fieldagent\" || role === \"owner\") &&\n          getEmptyFormsButton(actionClasses)}\n        {(role === \"controller\" || role === \"owner\") &&\n          getControlFormsButton(actionClasses)}\n      </BottomNavigation>\n    </div>\n  );\n};\n\nconst getHomeButton = (classes) => {\n  return (\n    <BottomNavigationAction\n      classes={classes}\n      label={<div>خانه</div>}\n      icon={<MdHome />}\n    />\n  );\n};\n\nconst getEmptyFormsButton = (classes) => {\n  return (\n    <BottomNavigationAction\n      classes={classes}\n      label={<div>لیست فرم‌‌ها</div>}\n      icon={<FaListAlt />}\n    />\n  );\n};\n\nconst getControlFormsButton = (classes) => {\n  return (\n    <BottomNavigationAction\n      classes={classes}\n      label={<div>گزارش‌های مأموران</div>}\n      icon={<GoReport />}\n    />\n  );\n};\n\nconst goToPage = (newValue, history) => {\n  switch (newValue) {\n    case 0:\n      history.push(\"/\");\n      break;\n    case 1:\n      history.push(\"/fill-forms\");\n      break;\n    case 2:\n      history.push(\"/reports\");\n      break;\n    default:\n  }\n};\n\nconst getDefaultPage = (pathname) => {\n  console.log(pathname);\n  switch (pathname) {\n    case \"/\":\n      return 0;\n    case \"/fill-forms\":\n      return 1;\n    case \"/reports\":\n      return 2;\n    default:\n  }\n};\nexport default NavBar;\n","import { setToken } from \"../GraphQL/Client\";\n\nexport const getTokenAndSetRole = (getToken, setRole) => () => {\n  getToken({\n    audience: process.env.REACT_APP_AUDIENCE,\n  })\n    .then((res) => {\n      setToken(res);\n    })\n    .catch((err) => {});\n};\n","import React from \"react\";\nimport \"./Errors.css\";\nconst NotFoundPage = () => {\n  return (\n    <div class=\"errContainer\">\n      <div class=\"errorText\">\n        <h1>گشتم نبود نگرد نیست</h1>\n        <h4>صفحه‌ی مورد نظر یافت نشد ۴۰۴</h4>\n      </div>\n    </div>\n  );\n};\nexport default NotFoundPage;\n","import React from \"react\";\nimport \"./Errors.css\";\nconst ServerErrorPage = () => {\n  return (\n    <div class=\"errContainer\">\n      <div class=\"errorText\">\n        <h1>اوه اوه... خرابکاری شد</h1>\n        <h4>سرور به مشکلی خورد ۵۰۰</h4>\n      </div>\n    </div>\n  );\n};\nexport default ServerErrorPage;\n","import React, { useState, useEffect } from \"react\";\nimport AuthRoute, { AuthRoutes } from \"./Auth/AuthenticatedRoute\";\nimport MainPage from \"./Pages/MainPage/MainPage\";\nimport LoadingBackdrop from \"./Components/utils/Loading\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport NavBar from \"./Components/navbar/NavBar\";\nimport { getTokenAndSetRole } from \"./Auth/AuthUtils\";\nimport NotFoundPage from \"./Pages/ErrorPages/NotFound\";\nimport \"./App.css\";\nimport { SnackBar } from \"./Components/utils/SnackBar\";\nimport ServerErrorPage from \"./Pages/ErrorPages/ServerError\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { client } from \"./GraphQL/Client\";\nimport { getRoleByUserName } from \"./GraphQL/Querries\";\nimport FormsList from \"./Pages/EmptyForms/FormsList\";\nimport FormPage from \"./Pages/EmptyForms/FormPage\";\nimport FormsRecordsList from \"./Pages/Reports/FormRecordsList\";\nimport ReportsList from \"./Pages/Reports/ReportsList\";\n\nconst App = () => {\n  const {\n    isLoading,\n    getAccessTokenSilently,\n    isAuthenticated,\n    user,\n  } = useAuth0();\n  const { loading, error, data } = useQuery(getRoleByUserName, {\n    client,\n    variables: { username: user ? user.email : \"\" },\n  });\n\n  const [role, setRole] = useState(localStorage.getItem(\"role\"));\n  useEffect(() => getTokenAndSetRole(getAccessTokenSilently, setRole), [\n    isLoading,\n    getAccessTokenSilently,\n  ]);\n  useEffect(() => {\n    if (!isAuthenticated) setRole(\"\", () => localStorage.setItem(\"role\", \"\"));\n  }, []);\n  useEffect(() => {\n    if (data && data.getRoleByUserName) {\n      setRole(data.getRoleByUserName.role);\n      localStorage.setItem(\"role\", data.getRoleByUserName.role);\n    }\n  }, [loading, data]);\n  return (\n    <Router>\n      <NavBar isAuthenticated={isAuthenticated} role={role} />\n      <div className=\"App\">\n        <Switch>\n          <Route exact path=\"/\" component={MainPage} />\n          {(role === \"fieldagent\" || role === \"owner\") && (\n            <Route exact path=\"/fill-forms\" component={FormsList} />\n          )}\n          {(role === \"fieldagent\" || role === \"owner\") && (\n            <Route exact path=\"/fill-forms/:formId\" component={FormPage} />\n          )}\n          {(role === \"controller\" || role === \"owner\") && (\n            <Route exact path=\"/reports\" component={ReportsList} />\n          )}\n          {(role === \"controller\" || role === \"owner\") && (\n            <Route exact path=\"/reports/:formId\" component={FormsRecordsList} />\n          )}\n          {(role === \"controller\" || role === \"owner\") && (\n            <Route exact path=\"/reports/details/:formId\" component={FormPage} />\n          )}\n          <Route path=\"/500\" component={ServerErrorPage} />\n          <Route path=\"/404\" component={NotFoundPage} />\n          {role !== \"\" && role && <Redirect to=\"/404\" />}\n        </Switch>\n        <SnackBar />\n        <LoadingBackdrop open={loading} />\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\nconst AuthWrapper = ({ children }) => {\n  const history = useHistory();\n  const domain = process.env.REACT_APP_AUTH0_DOMAIN;\n  const clientId = process.env.REACT_APP_AUTH0_CLIENT_ID;\n  const audience = process.env.REACT_APP_AUDIENCE;\n\n  const onRedirectCallback = (appState) => {\n    history.push(appState?.returnTo || window.location.pathname);\n  };\n\n  return (\n    <Auth0Provider\n      domain={domain}\n      clientId={clientId}\n      redirectUri={window.location.origin}\n      onRedirectCallback={onRedirectCallback}\n      audience={audience}\n      cacheLocation={\"localstorage\"}\n    >\n      {children}\n    </Auth0Provider>\n  );\n};\n\nexport default AuthWrapper;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport AuthWrapper from \"./Auth/AuthProviderWrapper\";\n\nReactDOM.render(\n  <Router>\n    <AuthWrapper>\n      <App />\n    </AuthWrapper>\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}